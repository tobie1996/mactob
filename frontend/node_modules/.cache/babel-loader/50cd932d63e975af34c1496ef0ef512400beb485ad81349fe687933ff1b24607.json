{"ast":null,"code":"import React,{useState}from'react';import{MdDelete,MdModeEditOutline}from\"react-icons/md\";import AdminEditProduct from'./AdminEditProduct';import displayINRCurrency from'../helpers/displayCurrency';import SummaryApi from'../common';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminProductCard=_ref=>{let{data,fetchdata}=_ref;const[editProduct,setEditProduct]=useState(false);const deleteProducts=async id=>{try{const body=JSON.stringify({_id:id});const response=await fetch(SummaryApi.deleteProduct.url,{method:SummaryApi.deleteProduct.method,credentials:'include',headers:{\"Content-Type\":'application/json'},body:body});const responseData=await response.json();if(responseData.success){fetchdata();}else{console.error(responseData.message);}}catch(err){console.error(\"Error deleting product:\",err.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded shadow-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-4 sm:grid-cols-2 sm:gap-2 md:grid-cols-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-32 h-32 flex justify-center items-center\",children:/*#__PURE__*/_jsx(\"img\",{src:data===null||data===void 0?void 0:data.productImage[0],alt:\"Product\",className:\"mx-auto object-contain h-full\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"truncate line-clamp-2\",children:data.productName.slice(0,10)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:displayINRCurrency(data.sellingPrice)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex sm:hidden justify-end\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-fit ml-auto p-2 bg-green-100 hover:bg-green-600 rounded-full hover:text-white cursor-pointer\",onClick:()=>setEditProduct(true),children:/*#__PURE__*/_jsx(MdModeEditOutline,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-fit ml-auto p-2 bg-red-100 hover:bg-red-700 rounded-full hover:text-white cursor-pointer\",onClick:()=>deleteProducts(data._id),children:/*#__PURE__*/_jsx(MdDelete,{})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden sm:flex justify-end\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-fit ml-auto p-2 bg-green-100 hover:bg-green-600 rounded-full hover:text-white cursor-pointer\",onClick:()=>setEditProduct(true),children:/*#__PURE__*/_jsx(MdModeEditOutline,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-fit ml-auto p-2 bg-red-100 hover:bg-red-700 rounded-full hover:text-white cursor-pointer\",onClick:()=>deleteProducts(data._id),children:/*#__PURE__*/_jsx(MdDelete,{})})]})]}),editProduct&&/*#__PURE__*/_jsx(AdminEditProduct,{productData:data,onClose:()=>setEditProduct(false),fetchdata:fetchdata})]});};export default AdminProductCard;","map":{"version":3,"names":["React","useState","MdDelete","MdModeEditOutline","AdminEditProduct","displayINRCurrency","SummaryApi","jsx","_jsx","jsxs","_jsxs","AdminProductCard","_ref","data","fetchdata","editProduct","setEditProduct","deleteProducts","id","body","JSON","stringify","_id","response","fetch","deleteProduct","url","method","credentials","headers","responseData","json","success","console","error","message","err","className","children","src","productImage","alt","productName","slice","sellingPrice","onClick","productData","onClose"],"sources":["C:/Users/Wendy/OneDrive/Desktop/PROJET/MACTOB_STORE/frontend/src/components/AdminProductCard.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { MdDelete, MdModeEditOutline } from \"react-icons/md\";\r\nimport AdminEditProduct from './AdminEditProduct';\r\nimport displayINRCurrency from '../helpers/displayCurrency';\r\nimport SummaryApi from '../common';\r\n\r\nconst AdminProductCard = ({ data, fetchdata }) => {\r\n  const [editProduct, setEditProduct] = useState(false);\r\n\r\n  const deleteProducts = async (id) => {\r\n    try {\r\n      const body = JSON.stringify({ _id: id });\r\n\r\n      const response = await fetch(SummaryApi.deleteProduct.url, {\r\n        method: SummaryApi.deleteProduct.method,\r\n        credentials: 'include',\r\n        headers: {\r\n          \"Content-Type\": 'application/json',\r\n        },\r\n        body: body\r\n      });\r\n\r\n      const responseData = await response.json();\r\n\r\n      if (responseData.success) {\r\n        fetchdata();\r\n      } else {\r\n        console.error(responseData.message);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error deleting product:\", err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='bg-white p-4 rounded shadow-md'>\r\n      <div className='grid grid-cols-1 gap-4 sm:grid-cols-2 sm:gap-2 md:grid-cols-2'>\r\n        <div className='w-full'>\r\n          <div className='w-32 h-32 flex justify-center items-center'>\r\n            <img src={data?.productImage[0]} alt=\"Product\" className='mx-auto object-contain h-full' />\r\n          </div>\r\n          <h1 className='truncate line-clamp-2'>{data.productName.slice(0, 10)}</h1>\r\n        </div>\r\n        <div className='flex flex-col justify-center'>\r\n          <p className='font-semibold'>\r\n            {displayINRCurrency(data.sellingPrice)}\r\n          </p>\r\n          <div className='flex sm:hidden justify-end'>\r\n            <div className='w-fit ml-auto p-2 bg-green-100 hover:bg-green-600 rounded-full hover:text-white cursor-pointer' onClick={() => setEditProduct(true)}>\r\n              <MdModeEditOutline />\r\n            </div>\r\n            <div className='w-fit ml-auto p-2 bg-red-100 hover:bg-red-700 rounded-full hover:text-white cursor-pointer' onClick={() => deleteProducts(data._id)}>\r\n              <MdDelete />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='hidden sm:flex justify-end'>\r\n          <div className='w-fit ml-auto p-2 bg-green-100 hover:bg-green-600 rounded-full hover:text-white cursor-pointer' onClick={() => setEditProduct(true)}>\r\n            <MdModeEditOutline />\r\n          </div>\r\n          <div className='w-fit ml-auto p-2 bg-red-100 hover:bg-red-700 rounded-full hover:text-white cursor-pointer' onClick={() => deleteProducts(data._id)}>\r\n            <MdDelete />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {editProduct && (\r\n        <AdminEditProduct productData={data} onClose={() => setEditProduct(false)} fetchdata={fetchdata} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminProductCard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}