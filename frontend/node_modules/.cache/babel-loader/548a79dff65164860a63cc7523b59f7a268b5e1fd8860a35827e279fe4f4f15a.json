{"ast":null,"code":"import React,{useContext,useRef,useState,useEffect}from\"react\";import{GrSearch}from\"react-icons/gr\";import{FaRegCircleUser,FaUserCheck}from\"react-icons/fa6\";import{TiShoppingCart}from\"react-icons/ti\";import{Link,useLocation,useNavigate}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import SummaryApi from\"../common\";import{toast}from\"react-toastify\";import{setUserDetails}from\"../store/userSlice\";import ROLE from\"../common/role\";import Context from\"../context\";import{Menu,X}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Header=()=>{const user=useSelector(state=>{var _state$user;return state===null||state===void 0?void 0:(_state$user=state.user)===null||_state$user===void 0?void 0:_state$user.user;});const dispatch=useDispatch();const context=useContext(Context);const navigate=useNavigate();const searchInput=useLocation();const URLSearch=new URLSearchParams(searchInput===null||searchInput===void 0?void 0:searchInput.search);const searchQuery=URLSearch.get(\"q\")||\"\";const[search,setSearch]=useState(searchQuery);const[menuDisplay,setMenuDisplay]=useState(false);const[isMobileMenuOpen,setIsMobileMenuOpen]=useState(false);const[isSearching,setIsSearching]=useState(false);const menuRef=useRef(null);const mobileMenuRef=useRef(null);const handleLogout=async()=>{try{const fetchData=await fetch(SummaryApi.logout_user.url,{method:SummaryApi.logout_user.method,credentials:\"include\"});const data=await fetchData.json();if(data.success){toast.success(data.message);localStorage.removeItem(\"token\");dispatch(setUserDetails(null));navigate(\"/\");setIsMobileMenuOpen(false);}else{toast.error(data.message);}}catch(error){toast.error(\"Une erreur est survenue.\");}};const handleSearch=e=>{const{value}=e.target;setSearch(value);setIsSearching(value.length>0);navigate(value?\"/search?q=\".concat(value):\"/search\");};const toggleMobileMenu=()=>{setIsMobileMenuOpen(!isMobileMenuOpen);};const handleCloseMobileMenu=()=>{setIsMobileMenuOpen(false);};useEffect(()=>{const handleClickOutside=event=>{if(menuRef.current&&!menuRef.current.contains(event.target)){setMenuDisplay(false);}if(mobileMenuRef.current&&!mobileMenuRef.current.contains(event.target)){setIsMobileMenuOpen(false);}};document.addEventListener(\"mousedown\",handleClickOutside);return()=>document.removeEventListener(\"mousedown\",handleClickOutside);},[]);return/*#__PURE__*/_jsxs(\"header\",{className:\"bg-gray-900 text-white fixed w-full z-50 top-0 shadow-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"md:hidden text-white focus:outline-none\",onClick:toggleMobileMenu,\"aria-label\":\"Toggle menu\",children:isMobileMenuOpen?/*#__PURE__*/_jsx(X,{size:24}):/*#__PURE__*/_jsx(Menu,{size:24})}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"flex items-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:\"Mac\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-orange-500\",children:\"Tob\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:flex flex-1 max-w-xl mx-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Rechercher des produits...\",className:\"w-full py-2 px-4 rounded-full bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500\",onChange:handleSearch,value:search}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400\",children:/*#__PURE__*/_jsx(GrSearch,{})})]})}),/*#__PURE__*/_jsxs(\"nav\",{className:\"hidden md:flex items-center space-x-6\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-white hover:text-orange-500 transition-colors\",children:\"Accueil\"}),/*#__PURE__*/_jsx(Link,{to:\"/product\",className:\"text-white hover:text-orange-500 transition-colors\",children:\"Articles\"}),/*#__PURE__*/_jsx(Link,{to:\"/about\",className:\"text-white hover:text-orange-500 transition-colors\",children:\"\\xC0 Propos\"}),/*#__PURE__*/_jsx(Link,{to:\"/contact\",className:\"text-white hover:text-orange-500 transition-colors\",children:\"Contact\"}),(user===null||user===void 0?void 0:user._id)&&/*#__PURE__*/_jsxs(Link,{to:\"/cart\",className:\"relative text-white hover:text-orange-500 transition-colors\",children:[/*#__PURE__*/_jsx(TiShoppingCart,{size:24}),(context===null||context===void 0?void 0:context.cartProductCount)>0&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-2 -right-2 bg-orange-600 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center\",children:context===null||context===void 0?void 0:context.cartProductCount})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:user!==null&&user!==void 0&&user._id?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",ref:menuRef,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMenuDisplay(!menuDisplay),className:\"flex items-center space-x-1 focus:outline-none\",children:user!==null&&user!==void 0&&user.profilePic?/*#__PURE__*/_jsx(\"img\",{src:user===null||user===void 0?void 0:user.profilePic,className:\"w-8 h-8 rounded-full object-cover\",alt:user===null||user===void 0?void 0:user.name}):/*#__PURE__*/_jsx(FaRegCircleUser,{size:20,className:\"text-white hover:text-orange-500\"})}),menuDisplay&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-2 text-sm text-gray-700 border-b\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[\"Bonjour, \",user===null||user===void 0?void 0:user.name]})}),(user===null||user===void 0?void 0:user.role)===ROLE.ADMIN&&/*#__PURE__*/_jsx(Link,{to:\"/admin-panel/all-products\",className:\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",onClick:()=>setMenuDisplay(false),children:\"Admin Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",children:\"D\\xE9connexion\"})]})]})}):/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-md transition-colors\",children:\"Connexion\"})})]})]}),!isMobileMenuOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden py-2 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Rechercher...\",className:\"w-full py-2 px-4 rounded-full bg-gray-800 text-white placeholder-gray-400 focus:outline-none\",onChange:handleSearch,value:search}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400\",children:/*#__PURE__*/_jsx(GrSearch,{})})]})})]}),/*#__PURE__*/_jsx(\"div\",{ref:mobileMenuRef,className:\"md:hidden fixed inset-0 bg-gray-900 z-40 transform \".concat(isMobileMenuOpen?'translate-x-0':'-translate-x-full',\" transition-transform duration-300 ease-in-out\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-full pt-20 px-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-white text-xl py-2 border-b border-gray-800 hover:text-orange-500\",onClick:handleCloseMobileMenu,children:\"Accueil\"}),/*#__PURE__*/_jsx(Link,{to:\"/product\",className:\"text-white text-xl py-2 border-b border-gray-800 hover:text-orange-500\",onClick:handleCloseMobileMenu,children:\"Articles\"}),/*#__PURE__*/_jsx(Link,{to:\"/about\",className:\"text-white text-xl py-2 border-b border-gray-800 hover:text-orange-500\",onClick:handleCloseMobileMenu,children:\"\\xC0 Propos\"}),/*#__PURE__*/_jsx(Link,{to:\"/contact\",className:\"text-white text-xl py-2 border-b border-gray-800 hover:text-orange-500\",onClick:handleCloseMobileMenu,children:\"Contact\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-4 border-t border-gray-800\",children:user!==null&&user!==void 0&&user._id?/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[user!==null&&user!==void 0&&user.profilePic?/*#__PURE__*/_jsx(\"img\",{src:user===null||user===void 0?void 0:user.profilePic,className:\"w-10 h-10 rounded-full object-cover\",alt:user===null||user===void 0?void 0:user.name}):/*#__PURE__*/_jsx(FaRegCircleUser,{size:24,className:\"text-white\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:user===null||user===void 0?void 0:user.name})]}),/*#__PURE__*/_jsxs(Link,{to:\"/cart\",className:\"flex items-center text-white hover:text-orange-500\",onClick:handleCloseMobileMenu,children:[/*#__PURE__*/_jsx(TiShoppingCart,{size:24,className:\"mr-2\"}),\"Panier\",(context===null||context===void 0?void 0:context.cartProductCount)>0&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 bg-orange-600 text-white text-xs px-2 py-1 rounded-full\",children:context===null||context===void 0?void 0:context.cartProductCount})]}),(user===null||user===void 0?void 0:user.role)===ROLE.ADMIN&&/*#__PURE__*/_jsx(Link,{to:\"/admin-panel/all-products\",className:\"text-white hover:text-orange-500\",onClick:handleCloseMobileMenu,children:\"Admin Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"text-white hover:text-orange-500 text-left\",children:\"D\\xE9connexion\"})]}):/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"block w-full bg-orange-600 hover:bg-orange-700 text-white text-center py-3 rounded-md\",onClick:handleCloseMobileMenu,children:\"Connexion\"})})]})})]});};export default Header;","map":{"version":3,"names":["React","useContext","useRef","useState","useEffect","GrSearch","FaRegCircleUser","FaUserCheck","TiShoppingCart","Link","useLocation","useNavigate","useDispatch","useSelector","SummaryApi","toast","setUserDetails","ROLE","Context","Menu","X","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","user","state","_state$user","dispatch","context","navigate","searchInput","URLSearch","URLSearchParams","search","searchQuery","get","setSearch","menuDisplay","setMenuDisplay","isMobileMenuOpen","setIsMobileMenuOpen","isSearching","setIsSearching","menuRef","mobileMenuRef","handleLogout","fetchData","fetch","logout_user","url","method","credentials","data","json","success","message","localStorage","removeItem","error","handleSearch","e","value","target","length","concat","toggleMobileMenu","handleCloseMobileMenu","handleClickOutside","event","current","contains","document","addEventListener","removeEventListener","className","children","onClick","size","to","type","placeholder","onChange","_id","cartProductCount","ref","profilePic","src","alt","name","role","ADMIN"],"sources":["C:/Users/Wendy/OneDrive/Desktop/PROJET/MACTOB_STORE/frontend/src/components/Header.js"],"sourcesContent":["import React, { useContext, useRef, useState, useEffect } from \"react\";\r\nimport { GrSearch } from \"react-icons/gr\";\r\nimport { FaRegCircleUser, FaUserCheck } from \"react-icons/fa6\";\r\nimport { TiShoppingCart } from \"react-icons/ti\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport SummaryApi from \"../common\";\r\nimport { toast } from \"react-toastify\";\r\nimport { setUserDetails } from \"../store/userSlice\";\r\nimport ROLE from \"../common/role\";\r\nimport Context from \"../context\";\r\nimport { Menu, X } from \"lucide-react\";\r\n\r\nconst Header = () => {\r\n  const user = useSelector((state) => state?.user?.user);\r\n  const dispatch = useDispatch();\r\n  const context = useContext(Context);\r\n  const navigate = useNavigate();\r\n  const searchInput = useLocation();\r\n  const URLSearch = new URLSearchParams(searchInput?.search);\r\n  const searchQuery = URLSearch.get(\"q\") || \"\";\r\n  const [search, setSearch] = useState(searchQuery);\r\n  const [menuDisplay, setMenuDisplay] = useState(false);\r\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const menuRef = useRef(null);\r\n  const mobileMenuRef = useRef(null);\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      const fetchData = await fetch(SummaryApi.logout_user.url, {\r\n        method: SummaryApi.logout_user.method,\r\n        credentials: \"include\",\r\n      });\r\n\r\n      const data = await fetchData.json();\r\n\r\n      if (data.success) {\r\n        toast.success(data.message);\r\n        localStorage.removeItem(\"token\");\r\n        dispatch(setUserDetails(null));\r\n        navigate(\"/\");\r\n        setIsMobileMenuOpen(false);\r\n      } else {\r\n        toast.error(data.message);\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"Une erreur est survenue.\");\r\n    }\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    const { value } = e.target;\r\n    setSearch(value);\r\n    setIsSearching(value.length > 0);\r\n    navigate(value ? `/search?q=${value}` : \"/search\");\r\n  };\r\n\r\n  const toggleMobileMenu = () => {\r\n    setIsMobileMenuOpen(!isMobileMenuOpen);\r\n  };\r\n\r\n  const handleCloseMobileMenu = () => {\r\n    setIsMobileMenuOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\r\n        setMenuDisplay(false);\r\n      }\r\n      if (mobileMenuRef.current && !mobileMenuRef.current.contains(event.target)) {\r\n        setIsMobileMenuOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  return (\r\n    <header className=\"bg-gray-900 text-white fixed w-full z-50 top-0 shadow-lg\">\r\n      <div className=\"container mx-auto px-4\">\r\n        {/* Main Header Content */}\r\n        <div className=\"flex items-center justify-between h-16\">\r\n          {/* Logo and Mobile Menu Button */}\r\n          <div className=\"flex items-center space-x-4\">\r\n            {/* Mobile Menu Button */}\r\n            <button\r\n              className=\"md:hidden text-white focus:outline-none\"\r\n              onClick={toggleMobileMenu}\r\n              aria-label=\"Toggle menu\"\r\n            >\r\n              {isMobileMenuOpen ? <X size={24} /> : <Menu size={24} />}\r\n            </button>\r\n            \r\n            {/* Logo */}\r\n            <Link to=\"/\" className=\"flex items-center\">\r\n              <span className=\"text-2xl font-bold\">\r\n                <span className=\"text-white\">Mac</span>\r\n                <span className=\"text-orange-500\">Tob</span>\r\n              </span>\r\n            </Link>\r\n          </div>\r\n\r\n          {/* Desktop Search Bar */}\r\n          <div className=\"hidden md:flex flex-1 max-w-xl mx-6\">\r\n            <div className=\"relative w-full\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Rechercher des produits...\"\r\n                className=\"w-full py-2 px-4 rounded-full bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500\"\r\n                onChange={handleSearch}\r\n                value={search}\r\n              />\r\n              <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400\">\r\n                <GrSearch />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Desktop Navigation */}\r\n          <nav className=\"hidden md:flex items-center space-x-6\">\r\n            <Link to=\"/\" className=\"text-white hover:text-orange-500 transition-colors\">Accueil</Link>\r\n            <Link to=\"/product\" className=\"text-white hover:text-orange-500 transition-colors\">Articles</Link>\r\n            <Link to=\"/about\" className=\"text-white hover:text-orange-500 transition-colors\">À Propos</Link>\r\n            <Link to=\"/contact\" className=\"text-white hover:text-orange-500 transition-colors\">Contact</Link>\r\n            \r\n            {/* Cart Icon */}\r\n            {user?._id && (\r\n              <Link to=\"/cart\" className=\"relative text-white hover:text-orange-500 transition-colors\">\r\n                <TiShoppingCart size={24} />\r\n                {context?.cartProductCount > 0 && (\r\n                  <div className=\"absolute -top-2 -right-2 bg-orange-600 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center\">\r\n                    {context?.cartProductCount}\r\n                  </div>\r\n                )}\r\n              </Link>\r\n            )}\r\n            \r\n            {/* User Section */}\r\n            <div className=\"flex items-center space-x-4\">\r\n              {user?._id ? (\r\n                <>\r\n                  <div className=\"relative\" ref={menuRef}>\r\n                    <button \r\n                      onClick={() => setMenuDisplay(!menuDisplay)}\r\n                      className=\"flex items-center space-x-1 focus:outline-none\"\r\n                    >\r\n                      {user?.profilePic ? (\r\n                        <img \r\n                          src={user?.profilePic} \r\n                          className=\"w-8 h-8 rounded-full object-cover\" \r\n                          alt={user?.name}\r\n                        />\r\n                      ) : (\r\n                        <FaRegCircleUser size={20} className=\"text-white hover:text-orange-500\" />\r\n                      )}\r\n                    </button>\r\n                    \r\n                    {menuDisplay && (\r\n                      <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50\">\r\n                        <div className=\"px-4 py-2 text-sm text-gray-700 border-b\">\r\n                          <p className=\"font-medium\">Bonjour, {user?.name}</p>\r\n                        </div>\r\n                        {user?.role === ROLE.ADMIN && (\r\n                          <Link \r\n                            to=\"/admin-panel/all-products\" \r\n                            className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\r\n                            onClick={() => setMenuDisplay(false)}\r\n                          >\r\n                            Admin Dashboard\r\n                          </Link>\r\n                        )}\r\n                        <button\r\n                          onClick={handleLogout}\r\n                          className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\r\n                        >\r\n                          Déconnexion\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <Link \r\n                  to=\"/login\" \r\n                  className=\"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-md transition-colors\"\r\n                >\r\n                  Connexion\r\n                </Link>\r\n              )}\r\n            </div>\r\n          </nav>\r\n        </div>\r\n\r\n        {/* Mobile Search Bar (shown only when not in mobile menu) */}\r\n        {!isMobileMenuOpen && (\r\n          <div className=\"md:hidden py-2 px-4\">\r\n            <div className=\"relative\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Rechercher...\"\r\n                className=\"w-full py-2 px-4 rounded-full bg-gray-800 text-white placeholder-gray-400 focus:outline-none\"\r\n                onChange={handleSearch}\r\n                value={search}\r\n              />\r\n              <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400\">\r\n                <GrSearch />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Mobile Menu */}\r\n      <div \r\n        ref={mobileMenuRef}\r\n        className={`md:hidden fixed inset-0 bg-gray-900 z-40 transform ${isMobileMenuOpen ? 'translate-x-0' : '-translate-x-full'} transition-transform duration-300 ease-in-out`}\r\n      >\r\n        <div className=\"flex flex-col h-full pt-20 px-6 space-y-6\">\r\n          <div className=\"flex flex-col space-y-4\">\r\n            <Link \r\n              to=\"/\" \r\n              className=\"text-white text-xl py-2 border-b border-gray-800 hover:text-orange-500\"\r\n              onClick={handleCloseMobileMenu}\r\n            >\r\n              Accueil\r\n            </Link>\r\n            <Link \r\n              to=\"/product\" \r\n              className=\"text-white text-xl py-2 border-b border-gray-800 hover:text-orange-500\"\r\n              onClick={handleCloseMobileMenu}\r\n            >\r\n              Articles\r\n            </Link>\r\n            <Link \r\n              to=\"/about\" \r\n              className=\"text-white text-xl py-2 border-b border-gray-800 hover:text-orange-500\"\r\n              onClick={handleCloseMobileMenu}\r\n            >\r\n              À Propos\r\n            </Link>\r\n            <Link \r\n              to=\"/contact\" \r\n              className=\"text-white text-xl py-2 border-b border-gray-800 hover:text-orange-500\"\r\n              onClick={handleCloseMobileMenu}\r\n            >\r\n              Contact\r\n            </Link>\r\n          </div>\r\n          \r\n          <div className=\"pt-4 border-t border-gray-800\">\r\n            {user?._id ? (\r\n              <div className=\"flex flex-col space-y-4\">\r\n                <div className=\"flex items-center space-x-3\">\r\n                  {user?.profilePic ? (\r\n                    <img \r\n                      src={user?.profilePic} \r\n                      className=\"w-10 h-10 rounded-full object-cover\" \r\n                      alt={user?.name}\r\n                    />\r\n                  ) : (\r\n                    <FaRegCircleUser size={24} className=\"text-white\" />\r\n                  )}\r\n                  <span className=\"text-white\">{user?.name}</span>\r\n                </div>\r\n                \r\n                <Link \r\n                  to=\"/cart\" \r\n                  className=\"flex items-center text-white hover:text-orange-500\"\r\n                  onClick={handleCloseMobileMenu}\r\n                >\r\n                  <TiShoppingCart size={24} className=\"mr-2\" />\r\n                  Panier\r\n                  {context?.cartProductCount > 0 && (\r\n                    <span className=\"ml-2 bg-orange-600 text-white text-xs px-2 py-1 rounded-full\">\r\n                      {context?.cartProductCount}\r\n                    </span>\r\n                  )}\r\n                </Link>\r\n                \r\n                {user?.role === ROLE.ADMIN && (\r\n                  <Link \r\n                    to=\"/admin-panel/all-products\" \r\n                    className=\"text-white hover:text-orange-500\"\r\n                    onClick={handleCloseMobileMenu}\r\n                  >\r\n                    Admin Dashboard\r\n                  </Link>\r\n                )}\r\n                \r\n                <button\r\n                  onClick={handleLogout}\r\n                  className=\"text-white hover:text-orange-500 text-left\"\r\n                >\r\n                  Déconnexion\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <Link \r\n                to=\"/login\" \r\n                className=\"block w-full bg-orange-600 hover:bg-orange-700 text-white text-center py-3 rounded-md\"\r\n                onClick={handleCloseMobileMenu}\r\n              >\r\n                Connexion\r\n              </Link>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}