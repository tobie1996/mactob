{"ast":null,"code":"import React,{useState}from'react';import loginIcons from'../assest/signin.gif';import{FaEye}from\"react-icons/fa\";import{FaEyeSlash}from\"react-icons/fa\";import{Link,useNavigate}from'react-router-dom';import imageTobase64 from'../helpers/imageTobase64';import SummaryApi from'../common';import{toast}from'react-toastify';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SignUp=()=>{const[showPassword,setShowPassword]=useState(false);const[showConfirmPassword,setShowConfirmPassword]=useState(false);const[data,setData]=useState({email:\"\",password:\"\",name:\"\",confirmPassword:\"\",profilePic:\"\"});const navigate=useNavigate();const handleOnChange=e=>{const{name,value}=e.target;setData(preve=>{return{...preve,[name]:value};});};const handleUploadPic=async e=>{const file=e.target.files[0];const imagePic=await imageTobase64(file);setData(preve=>{return{...preve,profilePic:imagePic};});};const handleSubmit=async e=>{e.preventDefault();if(data.password===data.confirmPassword){const dataResponse=await fetch(SummaryApi.signUP.url,{method:SummaryApi.signUP.method,headers:{\"content-type\":\"application/json\"},body:JSON.stringify(data)});const dataApi=await dataResponse.json();if(dataApi.success){toast.success(dataApi.message);navigate(\"/login\");}if(dataApi.error){toast.error(dataApi.message);}}else{toast.error(\" les mots de passes ne correspondent pas\");}};return/*#__PURE__*/_jsx(\"section\",{id:\"signup\",className:\" flex justify-center items-center bg-gray-50 font-semibold\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto container p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 w-full max-w-md mx-auto shadow-lg rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-24 h-24 mx-auto relative overflow-hidden rounded-full border-4 border-gray-200\",children:[/*#__PURE__*/_jsx(\"img\",{src:data.profilePic||loginIcons,alt:\"login icons\",className:\"object-cover\"}),/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs bg-opacity-80 bg-slate-200 pb-4 pt-2 cursor-pointer text-center absolute bottom-0 w-full\",children:\"Importer photo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"hidden\",onChange:handleUploadPic})]})})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"pt-6 flex flex-col gap-4\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 p-3 rounded-lg focus-within:ring-2 focus-within:ring-blue-500\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Votre nom\",name:\"name\",value:data.name,onChange:handleOnChange,required:true,className:\"w-full h-full outline-none bg-transparent text-gray-800\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 p-3 rounded-lg focus-within:ring-2 focus-within:ring-blue-500\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Entrez votre adresse email\",name:\"email\",value:data.email,onChange:handleOnChange,required:true,className:\"w-full h-full outline-none bg-transparent text-gray-800\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 p-3 rounded-lg flex items-center focus-within:ring-2 focus-within:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?\"text\":\"password\",placeholder:\"Votre mot de passe\",value:data.password,name:\"password\",onChange:handleOnChange,required:true,className:\"w-full h-full outline-none bg-transparent text-gray-800\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cursor-pointer text-gray-500\",onClick:()=>setShowPassword(prev=>!prev),children:showPassword?/*#__PURE__*/_jsx(FaEyeSlash,{}):/*#__PURE__*/_jsx(FaEye,{})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 p-3 rounded-lg flex items-center focus-within:ring-2 focus-within:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"input\",{type:showConfirmPassword?\"text\":\"password\",placeholder:\"Confirmer le mot de passe\",value:data.confirmPassword,name:\"confirmPassword\",onChange:handleOnChange,required:true,className:\"w-full h-full outline-none bg-transparent text-gray-800\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cursor-pointer text-gray-500\",onClick:()=>setShowConfirmPassword(prev=>!prev),children:showConfirmPassword?/*#__PURE__*/_jsx(FaEyeSlash,{}):/*#__PURE__*/_jsx(FaEye,{})})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg hover:scale-105 transition-transform duration-300 ease-in-out mt-6\",children:\"S'inscrire\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-5 text-center text-gray-600\",children:[\"Vous avez d\\xE9j\\xE0 un compte ? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-blue-600 hover:text-blue-700 hover:underline\",children:\"Se connecter\"})]})]})})});};export default SignUp;","map":{"version":3,"names":["React","useState","loginIcons","FaEye","FaEyeSlash","Link","useNavigate","imageTobase64","SummaryApi","toast","jsx","_jsx","jsxs","_jsxs","SignUp","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","data","setData","email","password","name","confirmPassword","profilePic","navigate","handleOnChange","e","value","target","preve","handleUploadPic","file","files","imagePic","handleSubmit","preventDefault","dataResponse","fetch","signUP","url","method","headers","body","JSON","stringify","dataApi","json","success","message","error","id","className","children","src","alt","type","onChange","onSubmit","placeholder","required","onClick","prev","to"],"sources":["C:/Users/Wendy/OneDrive/Desktop/PROJET/MACTOB_STORE/frontend/src/pages/SignUp.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport loginIcons from '../assest/signin.gif'\r\nimport { FaEye } from \"react-icons/fa\";\r\nimport { FaEyeSlash } from \"react-icons/fa\";\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport imageTobase64 from '../helpers/imageTobase64';\r\nimport SummaryApi from '../common';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst SignUp = () => {\r\n    const [showPassword, setShowPassword] = useState(false)\r\n    const [showConfirmPassword, setShowConfirmPassword] = useState(false)\r\n    const [data, setData] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n        name: \"\",\r\n        confirmPassword: \"\",\r\n        profilePic: \"\",\r\n    })\r\n    const navigate = useNavigate()\r\n\r\n    const handleOnChange = (e) => {\r\n        const { name, value } = e.target\r\n\r\n        setData((preve) => {\r\n            return {\r\n                ...preve,\r\n                [name]: value\r\n            }\r\n        })\r\n    }\r\n\r\n    const handleUploadPic = async (e) => {\r\n        const file = e.target.files[0]\r\n\r\n        const imagePic = await imageTobase64(file)\r\n\r\n        setData((preve) => {\r\n            return {\r\n                ...preve,\r\n                profilePic: imagePic\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n\r\n        if (data.password === data.confirmPassword) {\r\n\r\n            const dataResponse = await fetch(SummaryApi.signUP.url, {\r\n                method: SummaryApi.signUP.method,\r\n                headers: {\r\n                    \"content-type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n\r\n            const dataApi = await dataResponse.json()\r\n\r\n            if (dataApi.success) {\r\n                toast.success(dataApi.message)\r\n                navigate(\"/login\")\r\n            }\r\n\r\n            if (dataApi.error) {\r\n                toast.error(dataApi.message)\r\n            }\r\n\r\n        } else {\r\n            toast.error(\" les mots de passes ne correspondent pas\")\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <section id='signup' className=\" flex justify-center items-center bg-gray-50 font-semibold\">\r\n            <div className='mx-auto container p-4'>\r\n                <div className='bg-white p-8 w-full max-w-md mx-auto shadow-lg rounded-lg'>\r\n                    <div className='w-24 h-24 mx-auto relative overflow-hidden rounded-full border-4 border-gray-200'>\r\n                        <img src={data.profilePic || loginIcons} alt='login icons' className=\"object-cover\" />\r\n                        <form>\r\n                            <label>\r\n                                <div className='text-xs bg-opacity-80 bg-slate-200 pb-4 pt-2 cursor-pointer text-center absolute bottom-0 w-full'>\r\n                                    Importer photo\r\n                                </div>\r\n                                <input type='file' className='hidden' onChange={handleUploadPic} />\r\n                            </label>\r\n                        </form>\r\n                    </div>\r\n\r\n                    <form className='pt-6 flex flex-col gap-4' onSubmit={handleSubmit}>\r\n                        <div className='grid'>\r\n                            <div className='bg-gray-100 p-3 rounded-lg focus-within:ring-2 focus-within:ring-blue-500'>\r\n                                <input\r\n                                    type='text'\r\n                                    placeholder='Votre nom'\r\n                                    name='name'\r\n                                    value={data.name}\r\n                                    onChange={handleOnChange}\r\n                                    required\r\n                                    className='w-full h-full outline-none bg-transparent text-gray-800' />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className='grid'>\r\n                            <div className='bg-gray-100 p-3 rounded-lg focus-within:ring-2 focus-within:ring-blue-500'>\r\n                                <input\r\n                                    type='email'\r\n                                    placeholder='Entrez votre adresse email'\r\n                                    name='email'\r\n                                    value={data.email}\r\n                                    onChange={handleOnChange}\r\n                                    required\r\n                                    className='w-full h-full outline-none bg-transparent text-gray-800' />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className='grid'>\r\n                            <div className='bg-gray-100 p-3 rounded-lg flex items-center focus-within:ring-2 focus-within:ring-blue-500'>\r\n                                <input\r\n                                    type={showPassword ? \"text\" : \"password\"}\r\n                                    placeholder='Votre mot de passe'\r\n                                    value={data.password}\r\n                                    name='password'\r\n                                    onChange={handleOnChange}\r\n                                    required\r\n                                    className='w-full h-full outline-none bg-transparent text-gray-800' />\r\n                                <div className='cursor-pointer text-gray-500' onClick={() => setShowPassword((prev) => !prev)}>\r\n                                    {showPassword ? <FaEyeSlash /> : <FaEye />}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className='grid'>\r\n                            <div className='bg-gray-100 p-3 rounded-lg flex items-center focus-within:ring-2 focus-within:ring-blue-500'>\r\n                                <input\r\n                                    type={showConfirmPassword ? \"text\" : \"password\"}\r\n                                    placeholder='Confirmer le mot de passe'\r\n                                    value={data.confirmPassword}\r\n                                    name='confirmPassword'\r\n                                    onChange={handleOnChange}\r\n                                    required\r\n                                    className='w-full h-full outline-none bg-transparent text-gray-800' />\r\n                                <div className='cursor-pointer text-gray-500' onClick={() => setShowConfirmPassword((prev) => !prev)}>\r\n                                    {showConfirmPassword ? <FaEyeSlash /> : <FaEye />}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button\r\n                            className='bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg hover:scale-105 transition-transform duration-300 ease-in-out mt-6'>\r\n                            S'inscrire\r\n                        </button>\r\n                    </form>\r\n\r\n                    <p className='mt-5 text-center text-gray-600'>\r\n                        Vous avez déjà un compte ? <Link to={\"/login\"} className='text-blue-600 hover:text-blue-700 hover:underline'>\r\n                            Se connecter\r\n                        </Link>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default SignUp"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}